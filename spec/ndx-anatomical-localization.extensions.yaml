groups:
  - neurodata_type_def: Localization
    neurodata_type_inc: LabMetaData
    name: localization
    doc: "A class for storing anatomical localization information"
    groups:
      - neurodata_type_inc: AnatomicalCoordinatesTable
        quantity: "*"
        doc: "A table for storing localization in a space"
      - neurodata_type_inc: Space
        quantity: "*"
        doc: "A space in which the coordinates are defined"
  - neurodata_type_def: Space
    neurodata_type_inc: NWBContainer
    doc: "a space"
    attributes:
      - name: "space_name"
        doc: "name of the space"
        dtype: text
        required: true
      - name: origin
        doc: "A description of where (0,0,0) is in the space. For example, 'bregma' is a common origin for mice."
        dtype: text
        required: true
      - name: units
        doc: "The units of measurement for the x,y,z coordinates. For example, 'mm' for millimeters."
        dtype: text
        required: true
      - name: orientation
        doc: "A 3-letter string. One of A,P,L,R,S,I for each of x, y, and z. For example, the most common
          orientation is 'RAS', which means x is right, y is anterior, and z is superior (a.k.a. dorsal).
          For dorsal/ventral use 'S/I' (superior/inferior). In the AnatomicalCoordinatesTable, an orientation of
          'RAS' corresponds to coordinates in the order of (ML (x), AP (y), DV (z))."
        dtype: text
        required: true
  - neurodata_type_def: AllenCCFv3Space
    neurodata_type_inc: Space
    doc: "The Allen Mouse Brain Common Coordinate Framework version 3 (2020). This canonical space uses ASL orientation
          (x=anterior-posterior, y=superior-inferior/dorsal-ventral, z=left-right) with 10 micrometer resolution.
          The origin (0,0,0) is at the dorsal-left-posterior corner of the 3D image volume."
    attributes:
      - name: space_name
        dtype: text
        value: AllenCCFv3
        doc: "Name of the space (fixed to AllenCCFv3)"
      - name: origin
        dtype: text
        value: Dorsal-left-posterior corner of the 3D image volume
        doc: "Origin of the coordinate system (fixed)"
      - name: units
        dtype: text
        value: um
        doc: "Units of measurement (fixed to micrometers)"
      - name: orientation
        dtype: text
        value: ASL
        doc: "Orientation of the coordinate system (fixed to ASL)"
  - neurodata_type_def: AnatomicalCoordinatesTable
    neurodata_type_inc: DynamicTable
    doc: "A table for storing anatomical coordinates for rows of another table determined using a single method"
    links:
      - target_type: Space
        quantity: 1
        doc: "The space in which the coordinates are defined"
        name: space
    attributes:
      - name: method
        doc: "The method used to determine the coordinates"
        dtype: text
        required: true
    datasets:
      - name: x
        neurodata_type_inc: VectorData
        doc: "The x coordinate"
        quantity: 1
      - name: "y"
        neurodata_type_inc: VectorData
        doc: "The y coordinate"
        quantity: 1
      - name: z
        neurodata_type_inc: VectorData
        doc: "The z coordinate"
        quantity: 1
      - name: localized_entity
        neurodata_type_inc: DynamicTableRegion
        doc: "A reference to the object being localized (e.g. electrode)"
        quantity: 1
      - name: brain_region
        neurodata_type_inc: VectorData
        doc: "The brain region associated with the localization"
        dtype: text
        quantity: "?"